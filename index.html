<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Reversal — Warp Text</title>
<style>
    :root{
        --rx: 0deg; --ry: 0deg; --sk: 0deg; --scale: 1;
    }

    html,body{
        height:100%;
        margin:0;
        background:#fff;
        font-family: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
        overflow:hidden;
    }

    /* background bubble layer (blurred) */
    .bg {
        position:fixed;
        inset:0;
        pointer-events:none;
        filter: blur(14px);
        z-index:0;
    }
    .bubble {
        position:absolute;
        border-radius:50%;
        mix-blend-mode:multiply;
        background: radial-gradient(circle at 30% 30%, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.10) 35%, transparent 65%);
        box-shadow: 0 0 48px rgba(0,0,0,0.45), inset 0 0 30px rgba(0,0,0,0.35);
        opacity:0.95;
        filter: blur(6px);
        animation: float var(--dur) ease-in-out infinite;
    }

    /* subtle floating */
    @keyframes float {
        0%{ transform: translateY(0) scale(var(--s,1)); }
        50%{ transform: translateY(-18px) scale(calc(var(--s,1) * 1.02)); }
        100%{ transform: translateY(0) scale(var(--s,1)); }
    }

    /* stage / title */
    .stage{
        position:relative;
        z-index:2;
        min-height:100vh;
        display:flex;
        align-items:center;
        justify-content:center;
        user-select:none;
        -webkit-user-select:none;
        touch-action:manipulation;
    }

    .title-wrap{
        padding: clamp(24px,6vw,48px);
        display:inline-block;
        cursor:pointer;
    }

    .title{
        display:inline-block;
        font-weight:900;
        font-size: clamp(48px, 14vw, 140px);
        line-height:1;
        color:#000;
        text-transform:lowercase;
        letter-spacing: -.03em;
        transform-style:preserve-3d;
        transition: transform 1.1s cubic-bezier(.2,.9,.3,1);
        will-change: transform;
        /* layered black glow */
        text-shadow:
            0 0 6px rgba(0,0,0,0.55),
            0 6px 20px rgba(0,0,0,0.12),
            0 0 32px rgba(0,0,0,0.18);
        /* apply computed 3D warp from CSS variables */
        transform: perspective(800px) rotateX(var(--rx)) rotateY(var(--ry)) skewX(var(--sk)) scale(var(--scale));
    }

    /* per-letter subtle motion */
    .title span{
        display:inline-block;
        transition: transform 0.45s cubic-bezier(.2,.9,.3,1);
        transform-origin:50% 50%;
        will-change: transform;
        backface-visibility:hidden;
    }

    /* small hint */
    .hint{
        position:fixed;
        bottom:18px;
        left:50%;
        transform:translateX(-50%);
        color:#444;
        font-size:12px;
        opacity:.6;
        z-index:3;
    }

    /* responsive safe padding */
    @media (max-width:420px){
        .title{ font-size:42px; }
    }
</style>
</head>
<body>
    <div class="bg" aria-hidden="true">
        <!-- bubbles: vary size, position, speed using inline styles -->
        <div class="bubble" style="width:420px;height:420px;left:-6%;top:6%;--s:1.02;--dur:18s;opacity:.92"></div>
        <div class="bubble" style="width:280px;height:280px;left:70%;top:8%;--s:.96;--dur:22s;opacity:.9"></div>
        <div class="bubble" style="width:360px;height:360px;left:20%;top:60%;--s:1.05;--dur:20s;opacity:.88"></div>
        <div class="bubble" style="width:140px;height:140px;left:86%;top:58%;--s:1;--dur:14s;opacity:.85"></div>
        <div class="bubble" style="width:200px;height:200px;left:40%;top:18%;--s:.98;--dur:16s;opacity:.9"></div>
        <div class="bubble" style="width:120px;height:120px;left:4%;top:76%;--s:1;--dur:12s;opacity:.8"></div>
        <div class="bubble" style="width:500px;height:500px;left:58%;top:40%;--s:1.03;--dur:26s;opacity:.82"></div>
    </div>

    <main class="stage">
        <div class="title-wrap" id="wrap" aria-label="reversal">
            <h1 class="title" id="title">reversal</h1>
        </div>
    </main>

    <div class="hint">Hover & move over the word to warp it — release to slowly unwarp</div>

<script>
    // GitHub Copilot
    (function(){
        const wrap = document.getElementById('wrap');
        const title = document.getElementById('title');
        const text = title.textContent.trim();
        // split letters into spans for per-letter motion
        title.innerHTML = '';
        text.split('').forEach(ch=>{
            const sp = document.createElement('span');
            sp.textContent = ch;
            title.appendChild(sp);
        });
        const letters = Array.from(title.children);

        // clamp helper
        const clamp = (v,a,b)=> Math.max(a, Math.min(b, v));

        // update transform variables on mouse move
        function onMove(e){
            const r = title.getBoundingClientRect();
            const cx = r.left + r.width/2;
            const cy = r.top + r.height/2;
            const dx = (e.clientX - cx) / (r.width/2); // -1 .. 1
            const dy = (e.clientY - cy) / (r.height/2);
            // rotate limits
            const ry = clamp(-dx * 14, -20, 20);
            const rx = clamp(dy * 16, -20, 20);
            const sk = clamp(dx * 8, -10, 10);
            const scale = 1.02;

            // apply to element via CSS variables (rotates/warps whole word)
            title.style.setProperty('--rx', rx + 'deg');
            title.style.setProperty('--ry', ry + 'deg');
            title.style.setProperty('--sk', sk + 'deg');
            title.style.setProperty('--scale', scale);

            // per-letter slight wave based on distance from pointer
            letters.forEach((sp, i)=>{
                const sRect = sp.getBoundingClientRect();
                const sx = sRect.left + sRect.width/2;
                const sy = sRect.top + sRect.height/2;
                const dist = Math.hypot(e.clientX - sx, e.clientY - sy);
                // small offset that scales with proximity
                const mag = clamp(1 - (dist / 220), 0, 1);
                const ty = -mag * 18 * (1 - Math.abs(dx));
                const rot = mag * (dx * 8);
                sp.style.transform = `translateY(${ty}px) rotate(${rot}deg) translateZ(0)`;
            });
        }

        function onLeave(){
            // slowly unwarp: reset CSS vars (title has transition to handle smooth easing)
            title.style.setProperty('--rx','0deg');
            title.style.setProperty('--ry','0deg');
            title.style.setProperty('--sk','0deg');
            title.style.setProperty('--scale','1');
            // reset letters with a staggered gentle return
            letters.forEach((sp, i)=>{
                // small stagger based on index
                sp.style.transition = `transform ${0.9 + i*0.02}s cubic-bezier(.2,.9,.3,1)`;
                sp.style.transform = '';
                // cleanup transition after done to keep snappy on next hover
                setTimeout(()=>{ sp.style.transition = ''; }, 1200 + i*20);
            });
        }

        // attach listeners
        wrap.addEventListener('mousemove', onMove);
        wrap.addEventListener('mouseenter', (e)=>{
            // remove any lingering transitions for instant responsive warp
            letters.forEach(sp=> sp.style.transition = '');
        });
        wrap.addEventListener('mouseleave', onLeave);

        // tiny accessibility: allow touch to trigger a simple warp at touch point
        wrap.addEventListener('touchmove', (ev)=>{
            const t = ev.touches[0];
            if(t) onMove(t);
        }, {passive:true});
        wrap.addEventListener('touchend', onLeave);

    })();
</script>
</body>
</html>
